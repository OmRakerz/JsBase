<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Поиск ошибок в коде с DOM в JavaScript</title>

    <style>
      /* Стиль упражнений */
      body {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url(../background.png);
        background-position: 0 0;
        background-repeat: no-repeat;
        background-size: cover;
        font-family: sans-serif;
        background-attachment: fixed;
      }

      h1 {
        text-transform: uppercase;
        margin-top: 50px;
        font-size: 50px;
        color: #4682b4;
      }

      h3 {
        text-transform: uppercase;
        font-size: 30px;
        color: #4682b4;
      }

      h2 {
        text-transform: uppercase;
        font-size: 40px;
        margin-top: 50px;
        color: white;
      }

      p {
        font-size: 25px;
        display: block;
        width: 80%;
        color: white;
      }

      a {
        font-size: 20px;
        color: #f0fff0;
      }

      ul {
        font-size: 25px;
        color: white;
      }
    </style>
  </head>

  <body>
    <h1>Упражнение №272</h1>
    <p>Поиск ошибок в коде с DOM</p>

    <!-- Задание №1 -->
    <h3>Задание №1</h3>

    <div id="parent1">
      <p>1</p>
      <p>2</p>
      <p>3</p>
    </div>

    <!-- Задание №2 -->
    <h3>Задание №2</h3>

    <div id="parent2">
      <p>1</p>
      <p>2</p>
      <p>3</p>
    </div>

    <!-- Задание №3 -->
    <h3>Задание №3</h3>

    <p id="p3">text</p>
    <button id="btn1">click</button>

    <!-- Задание №4 -->
    <h3>Задание №4</h3>

    <div id="parent4">
      <p>1</p>
      <p>2</p>
      <p>3</p>
    </div>
    <button id="btn2">click</button>

    <!-- Задание №5 -->
    <h3>Задание №5</h3>

    <div id="parent5">
      <p>1</p>
      <p>2</p>
      <p>3</p>
    </div>

    <!-- Задание №6 -->
    <h3>Задание №6</h3>

    <div id="parent6">
      <p>text1</p>
      <p>text2</p>
      <p>text3</p>
    </div>
    <button id="btn3">click</button>

    <!-- Задание №7 -->
    <h3>Задание №7</h3>

    <div id="parent7">
      <p>1</p>
      <p>2</p>
      <p>3</p>
    </div>
    <button id="btn4">click</button>

    <!-- Задание №8 -->
    <h3>Задание №8</h3>

    <input id="inp1" />
    <input id="inp2" />
    <input id="inp3" />
    <button id="btn5">click</button>

    <!-- Задание №9 -->
    <h3>Задание №9</h3>

    <input id="inp4" />
    <input id="inp5" />
    <input id="inp6" />

    <button id="btn6">click</button>

    <!-- Задание №10 -->
    <h3>Задание №10</h3>

    <input id="inp7" />
    <input id="inp8" />
    <p id="res"></p>

    <button id="btn7">click</button>

    <!-- Задание №11 -->
    <h3>Задание №11</h3>

    <input data-text="text1" />
    <input data-text="text2" />
    <input data-text="text3" />

    <button id="btn8">click</button>

    <!-- Задание №12 -->
    <h3>Задание №12</h3>

    <input />
    <input />
    <input />

    <button id="btn9">click</button>

    <!-- Задание №13 -->
    <h3>Задание №13</h3>

    <input />
    <input />
    <input />

    <button id="btn10">click</button>

    <!-- Задание №14 -->
    <h3>Задание №14</h3>

    <input id="inp9" />
    <input id="inp10" />
    <input id="inp11" />

    <button id="btn11">click</button>

    <!-- Задание №15 -->
    <h3>Задание №15</h3>

    <input id="inp" />

    <script>
      // Задание №1
      let elems1 = document.querySelectorAll("#parent1 p");

      for (let elem1 of elems1) {
        elem1.textContent += "!";
      }

      // Задание №2
      let elems2 = document.querySelectorAll("#parent2 p");

      for (let elem2 of elems2) {
        elem2.addEventListener("click", function () {
          let num2 = Number(this.textContent);
          this.textContent = num2 + 1;
        });
      }

      // Задание №3
      let button1 = document.querySelector("#btn1");
      let elem3 = document.querySelector("#p3");

      button1.addEventListener("click", function () {
        elem3.style.fontWeight = "bold";
      });

      // Задание №4
      let button2 = document.querySelector("#btn2");
      let elems4 = document.querySelectorAll("#parent4 p");

      button2.addEventListener("click", function () {
        let sum1 = 0;
        for (let elem4 of elems4) {
          sum1 += Number(elem4.textContent);
        }
        console.log(sum1);
      });

      // Задание №5
      let elems5 = document.querySelectorAll("#parent5 p");

      for (let elem5 of elems5) {
        elem5.addEventListener("click", function () {
          this.textContent += "!";
        });
      }

      // Задание №6
      let button3 = document.querySelector("#btn3");
      let elems6 = document.querySelectorAll("#parent6 p");

      button3.addEventListener("click", function () {
        for (let elem6 of elems6) {
          elem6.style.fontWeight = "bold";
        }
      });

      // Задание №7
      let button4 = document.querySelector("#btn4");
      let elems7 = document.querySelectorAll("#parent7 p");
      let sum2 = 0;

      for (let elem7 of elems7) {
        sum2 += Number(elem7.textContent);
      }

      button4.addEventListener("click", function () {
        console.log(sum2);
      });

      // Задание №8
      let button5 = document.querySelector("#btn5");
      let num1 = document.querySelector("#inp1");
      let num2 = document.querySelector("#inp2");
      let num3 = document.querySelector("#inp3");
      let sum3 = 0;

      button5.addEventListener("click", function () {
        let sum3 = Number(num1.value) + Number(num2.value) + Number(num3.value);
        console.log(sum3);
      });

      // Задание №9
      let btn6 = document.querySelector("#btn6");
      let inp1 = document.querySelector("#inp4");
      let inp2 = document.querySelector("#inp5");
      let inp3 = document.querySelector("#inp6");

      btn6.addEventListener("click", function () {
        inp3.value = Number(inp1.value) + Number(inp2.value);
      });

      // Задание №10
      let btn7 = document.querySelector("#btn7");
      let res = document.querySelector("#res");
      let inp4 = document.querySelector("#inp7");
      let inp5 = document.querySelector("#inp8");

      btn7.addEventListener("click", function () {
        res.textContent = Number(inp4.value) + Number(inp5.value);
      });

      // Задание №11
      let inputs1 = document.querySelectorAll("input");
      let button8 = document.querySelector("#btn8");

      button8.addEventListener("click", function () {
        for (let input of inputs1) {
          if (input.value === input.dataset.text) {
            input.classList.add("right");
            input.classList.remove("wrong"); // удаляем класс, если он уже присутствует
          } else {
            input.classList.add("wrong");
            input.classList.remove("right"); // удаляем класс, если он уже присутствует
          }
        }
      });

      // Задание №12
      let inputs2 = document.querySelectorAll("input");
      let button9 = document.querySelector("#btn9");
      let texts = ["text1", "text2", "text3"];

      button9.addEventListener("click", function () {
        for (let i = 0; i < inputs2.length; i++) {
          if (inputs2[i].value === texts[i]) {
            inputs2[i].classList.add("right");
            inputs2[i].classList.remove("wrong");
          } else {
            inputs2[i].classList.add("wrong");
            inputs2[i].classList.remove("right");
          }
        }
      });

      // Задание №13
      let inputs = document.querySelectorAll("input");
      let btn10 = document.querySelector("#btn10");
      let sum = 0;

      btn10.addEventListener("click", function () {
        for (let input of inputs) {
          sum += Number(input.value); // значение инпута нужно получать через value и приводить к числу
        }
        console.log(sum);
      });

      // Задание №14
      let btn11 = document.querySelector("#btn11");
      let inp9 = document.querySelector("#inp9");
      let inp10 = document.querySelector("#inp10");
      let inp11 = document.querySelector("#inp11");

      btn11.addEventListener("click", function () {
        let sum = Number(inp9.value) + Number(inp10.value);
        inp11.value = sum;
      });

      // Задание №15
      let inp = document.querySelector("#inp");

      inp.addEventListener("blur", function () {
        let digits = inp.value.split("");
        let sum = 0;

        for (let digit of digits) {
          sum += Number(digit);
        }

        console.log(sum);
      });
    </script>
  </body>
</html>
