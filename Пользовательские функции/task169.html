<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Советы по созданию функций в JavaScript</title>

    <style>
      /* Стиль упражнений */
      body {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url(../background.png);
        background-position: 0 0;
        background-repeat: no-repeat;
        background-size: cover;
        font-family: sans-serif;
        background-attachment: fixed;
      }

      h1 {
        text-transform: uppercase;
        margin-top: 50px;
        font-size: 50px;
        color: #4682b4;
      }

      p {
        font-size: 25px;
        display: block;
        width: 80%;
        color: white;
      }

      ol {
        font-size: 25px;
        color: #00ced1;
        font-style: italic;
      }
    </style>

    <script>
      // Задание №1

      // Функция по названию должна считать сумму элементов массива, но в ней присутствует также деление, поэтому разумней будет назвать функцию 'calcArr'

      // function sum(arr) {
      //    let res = 0;
      //    for (let elem of arr) {
      //       res += elem;
      //    }
      //    return res / arr.length;
      // };

      let arr1 = [1, 2, 3, 4, 5];

      // Исправленный код:
      function calcArr(arr) {
        let res = 0;

        for (let elem of arr) {
          res += elem;
        }

        res = res / arr.length;

        return res;
      }

      console.log("Задание №1: " + calcArr(arr1));

      // Задание №2

      //  Имя функции не до конца отражает то, что функция делает, а также в функции содержится дублирующийся код

      //   function func(arr1, arr2) {
      //      let res1 = 0;
      //      for (let elem of arr) {
      //         res1 += elem;
      //      }
      //      let res2 = 0;
      //      for (let elem of arr) {
      //         res2 += elem;
      //      }
      //      return res1 / res2;
      //   }

      let arr2 = [1, 2, 3, 4, 5];
      let arr3 = [6, 7, 8, 9];

      // Исправленный код:
      function sumElem(arr) {
        let sum = 0;
        for (let elem of arr) {
          sum += elem;
        }
        return sum;
      }

      function calcArr23(arr1, arr2) {
        let res1 = sumElem(arr1);
        let res2 = sumElem(arr2);
        return res1 / res2;
      }

      console.log("Задание №2: " + calcArr23(arr2, arr3));

      // Задание №3

      //   Имя функции не отражает то, что функция делает, а также имеется ошибка в коде

      //   function getSum(arr) {
      //      let res = 0;
      //      for (let elem of arr) {
      //         res *= elem;
      //      }
      //      return res;
      //   }

      let arr6 = [1, 2, 3, 4, 5];

      // Исправленный код:
      function factorial(arr) {
        let res = 1;

        for (let elem of arr) {
          res *= elem;
        }

        return res;
      }

      console.log("Задание №3: " + factorial(arr6));
    </script>
  </head>

  <body>
    <h1>Упражнение №169</h1>
    <p>Советы по созданию функций:</p>

    <br />
    <ol>
      <li>
        <p>Имена функций должны быть глаголами.</p>
      </li>

      <li>
        <p>Имя каждой функции должно точно отражать то, что функция делает.</p>
      </li>

      <li>
        <p>
          Функция должна делать только то, что явно подразумевается её
          названием, и не делать другого.
        </p>
      </li>

      <li>
        <p>Каждая функция должна выполнять только одно действие.</p>
      </li>

      <li>
        <p>Используйте внутри функций вспомогательные функции.</p>
      </li>
      <li>
        <p>Код функций лучше не делать длиннее 10-15 строк.</p>
      </li>

      <li>
        <p>Длинные функции лучше разбивать на ряд вспомогательных.</p>
      </li>

      <li>
        <p>
          Используйте общепринятые префиксы в именах функций: show, get, set,
          calc, create, change, check.
        </p>
      </li>

      <li>
        <p>Выносите дублирующийся код в функции.</p>
      </li>
    </ol>
  </body>
</html>
