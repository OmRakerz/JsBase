<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Практика на функции в JavaScript</title>

    <style>
      /* Стиль упражнений */
      body {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url(../background.png);
        background-position: 0 0;
        background-repeat: no-repeat;
        background-size: cover;
        font-family: sans-serif;
        background-attachment: fixed;
      }

      h1 {
        text-transform: uppercase;
        margin-top: 50px;
        font-size: 50px;
        color: #4682b4;
      }

      p {
        font-size: 25px;
        display: block;
        width: 80%;
        color: white;
      }
    </style>

    <script>
      // Задание №1
      console.log(
        "Задание №1. Функция, которая параметром принимает массив и возвращает сумму его элементов:"
      );

      let arr1 = [1, 2, 3, 4, 5];

      function sumArr(arr) {
        let res = 0;

        for (let elem of arr) {
          res += elem;
        }

        return res;
      }

      console.log(sumArr(arr1));

      // Задание №2
      console.log("");

      console.log(
        "Задание №2. Функция, которая параметром принимает число и возвращать массив его делителей"
      );

      let num2 = 12;
      let newArr2 = [];

      function getDivider(number) {
        for (let i = 1; i <= number; i++) {
          if (number % i == 0) {
            newArr2.push(i);
          } else {
            continue;
          }
        }
        return newArr2;
      }

      console.log(getDivider(num2));

      // Задание №3
      console.log("");

      console.log(
        "Задание №3. Функция, которая параметром принимает строку и возвращать массив ее символов."
      );

      let str3 = "Hello world!";
      let newArr3 = [];

      function getWordArr(str) {
        newArr3 = str.split("");
        return newArr3;
      }

      console.log(getWordArr(str3));

      // Задание №4
      console.log("");

      console.log(
        "Задание №4. Функция, которая параметром принимает строку и переворачивать ее символы в обратном порядке."
      );

      let str4 = "Hello world!";
      let newStr4 = "";

      function getNewStr(str) {
        newStr4 = str.split("").reverse().join("");
        return newStr4;
      }

      console.log(getNewStr(str4));

      // Задание №5
      console.log("");

      console.log(
        "Задание №5. Функция, которая параметром принимает строку и делать заглавной первую букву этой строки."
      );

      let str5 = "hello world!";
      let newStr5 = "";

      function upperStr(str) {
        newStr5 = str.slice(0, 1).toUpperCase() + str.slice(1);
        return newStr5;
      }

      console.log(upperStr(str5));

      // Задание №6
      console.log("");

      console.log(
        "Задание №6. Функция, которая параметром принимает строку и делать заглавной первую букву каждого слова этой строки."
      );

      let str6 = "hello world!";

      function newStrUpper(str) {
        let words = str.split(" ");

        for (let i = 0; i <= words.length - 1; i++) {
          words[i] = words[i].slice(0, 1).toUpperCase() + words[i].slice(1);
        }

        let result = words.join(" ");
        return result;
      }

      console.log(newStrUpper(str6));

      // Задание №7
      console.log("");

      console.log(
        "Задание №7. Функция, заполняющая массив целыми числами от 1 до заданного."
      );

      let num = 10;
      let newArr7 = [];

      function getArr(number) {
        for (let i = 1; i <= number; i++) {
          newArr7.push(i);
        }

        return newArr7;
      }

      console.log(getArr(num));

      // Задание №8
      console.log("");

      console.log(
        "Задание №8. Функция, которая возвращает случайный элемент из массива"
      );

      let arr8 = [1, 2, 3, 4, 5];
      let randomElem;

      function getRandomElem(arr) {
        randomElem = Math.floor(Math.random() * arr.length);
        let res = arr[randomElem];
        return res;
      }

      console.log(getRandomElem(arr8));

      // Задание №9
      console.log("");

      console.log(
        "Задание №9. Функция, которая параметром принимает число и проверять, простое оно или нет."
      );

      let number = 1;

      function isPrime(num) {
        for (var i = 2; i < num; i++)
          if (num % i === 0) {
            return false;
          }
        return num > 1;
      }

      console.log(isPrime(number));

      // Задание №10
      console.log("");

      console.log(
        "Задание №10. Функция, которая проверяет пару чисел на дружественность. Дружественные числа - два числа, для которых сумма всех собственных делителей первого числа равна второму числу и наоборот, сумма всех собственных делителей второго числа равна первому числу."
      );

      let number1 = 12;
      let number2 = 10;

      function sumDividers(num) {
        let sum = 0;
        for (let i = 0; i < num; i++) {
          if (num % i == 0) {
            sum += i;
          } else {
            continue;
          }
        }
        return sum;
      }

      function checkFriendliness(num1, num2) {
        if (
          sumDividers(num1) == sumDividers(num2) ||
          sumDividers(num2) == sumDividers(num1)
        ) {
          return true;
        } else {
          return false;
        }
      }

      if (checkFriendliness(number1, number2)) {
        console.log(`Числа ${number1} и ${number2} дружественные`);
      } else {
        console.log(`Числа ${number1} и ${number2} не дружественные`);
      }

      // Задание №11
      console.log("");

      console.log(
        "Задание №11. Используя созданную вами функцию из предыдущей задачи найдите все пары дружественных чисел в промежутке от 1 до 1000."
      );

      let number3 = 999;
      let number4 = 10;

      function getDividers(num) {
        let dividers = [];
        for (let i = 0; i <= num; i++) {
          if (num % i == 0) {
            dividers.push(i);
          } else {
            continue;
          }
        }
        return dividers;
      }

      if (number3 > 999 || number4 > 999) {
        console.log(`Числа больше 1000`);
      } else {
        console.log(`Все делители числа ${number3} - ` + getDividers(number3));
        console.log(`Все делители числа ${number4} - ` + getDividers(number4));
      }

      // Задание №12
      console.log("");

      console.log(
        "Задание №12. Функция, которая проверяет число на совершенность. Совершенное число - это число, сумма собственных делителей которого равна этому числу."
      );

      let num12 = 29;

      if (sumDividers(num12) == num12) {
        console.log(`Число ${num12} совершенное`);
      } else {
        console.log(`Число ${num12} не совершенное`);
      }

      // Задание №13
      console.log("");

      console.log(
        "Задание №13. Найдите все счастливые билеты. Счастливый билет - это билет, в котором сумма первых трех цифр его номера равна сумме вторых трех цифр его номера."
      );

      let tickets = ["123456", "654321", "787878", "111111", "555555"];

      function isLuckyTicket(ticket) {
        let firstThreeSum =
          Number(ticket[0]) + Number(ticket[1]) + Number(ticket[2]);
        let secondThreeSum =
          Number(ticket[3]) + Number(ticket[4]) + Number(ticket[5]);

        return firstThreeSum === secondThreeSum;
      }

      let luckyTickets = tickets.filter(isLuckyTicket);

      console.log(luckyTickets);

      // Задание №14
      console.log("");

      console.log(
        "Задание №14. Функция, которая параметром принимает два числа и возвращать массив их общих делителей."
      );

      function findCommonDivisors(num1, num2) {
        let divisors = [];

        // Находим максимальный общий делитель
        let maxDivisor = Math.min(num1, num2);

        // Ищем все общие делители и добавляем их в массив
        for (let i = 1; i <= maxDivisor; i++) {
          if (num1 % i === 0 && num2 % i === 0) {
            divisors.push(i);
          }
        }

        return divisors;
      }

      let num14_1 = 18;
      let num14_2 = 24;

      let commonDivisors = findCommonDivisors(num14_1, num14_2);
      console.log(commonDivisors);

      // Задание №15
      console.log("");

      console.log(
        "Задание №15. Функция, которая принимает строку на русском языке, а возвращать ее транслит."
      );

      let str = "Привет, мир!";

      function getTranslit(word) {
        let newWord = "";
        let converter = {
          а: "a",
          б: "b",
          в: "v",
          г: "g",
          д: "d",
          е: "e",
          ё: "e",
          ж: "zh",
          з: "z",
          и: "i",
          й: "y",
          к: "k",
          л: "l",
          м: "m",
          н: "n",
          о: "o",
          п: "p",
          р: "r",
          с: "s",
          т: "t",
          у: "u",
          ф: "f",
          х: "h",
          ц: "c",
          ч: "ch",
          ш: "sh",
          щ: "sch",
          ь: "",
          ы: "y",
          ъ: "",
          э: "e",
          ю: "yu",
          я: "ya",

          А: "A",
          Б: "B",
          В: "V",
          Г: "G",
          Д: "D",
          Е: "E",
          Ё: "E",
          Ж: "Zh",
          З: "Z",
          И: "I",
          Й: "Y",
          К: "K",
          Л: "L",
          М: "M",
          Н: "N",
          О: "O",
          П: "P",
          Р: "R",
          С: "S",
          Т: "T",
          У: "U",
          Ф: "F",
          Х: "H",
          Ц: "C",
          Ч: "Ch",
          Ш: "Sh",
          Щ: "Sch",
          Ь: "",
          Ы: "Y",
          Ъ: "",
          Э: "E",
          Ю: "Yu",
          Я: "Ya",
        };

        for (let i = 0; i < word.length; i++) {
          if (converter[word[i]] == undefined) {
            newWord += word[i];
          } else {
            newWord += converter[word[i]];
          }
        }

        return newWord;
      }

      console.log(getTranslit(str));

      // Задание №16
      console.log("");

      console.log(
        "Задание №16. Функция, которая принимает число, а возвращать это число прописью. Пусть функция работает с числами до 999."
      );

      function numberToString(num) {
        if (num === 0) return "ноль"; // обрабатываем случай, когда число равно нулю

        let ones = [
          "",
          "один",
          "два",
          "три",
          "четыре",
          "пять",
          "шесть",
          "семь",
          "восемь",
          "девять",
        ];
        let tens = [
          "",
          "",
          "двадцать",
          "тридцать",
          "сорок",
          "пятьдесят",
          "шестьдесят",
          "семьдесят",
          "восемьдесят",
          "девяносто",
        ];
        let hundreds = [
          "",
          "сто",
          "двести",
          "триста",
          "четыреста",
          "пятьсот",
          "шестьсот",
          "семьсот",
          "восемьсот",
          "девятьсот",
        ];

        let numArr = num.toString().split(""); // преобразуем число в массив цифр
        let result = "";

        if (numArr.length === 1) {
          // обрабатываем случай, когда число состоит из одной цифры
          result = ones[numArr[0]];
        }

        if (numArr.length === 2) {
          // обрабатываем случай, когда число состоит из двух цифр
          if (numArr[0] === "1") {
            // обрабатываем числа от 10 до 19
            let numIndex = Number(numArr.join(""));

            result = ones[numIndex];
          } else {
            // обрабатываем числа от 20 до 99
            let onesIndex = Number(numArr[1]);
            let tensIndex = Number(numArr[0]);

            result = `${tens[tensIndex]} ${ones[onesIndex]}`;
          }
        }

        if (numArr.length === 3) {
          // обрабатываем случай, когда число состоит из трех цифр
          let hundredsIndex = Number(numArr[0]);
          let tensIndex = Number(numArr[1]);
          let onesIndex = Number(numArr[2]);
          let tensNum = Number(numArr[1] + numArr[2]);

          if (tensNum > 10 && tensNum < 20) {
            // обрабатываем числа от 110 до 119, 210 до 219 и т.д.
            let numIndex = Number(numArr.join(""));

            result = `${hundreds[hundredsIndex]} ${ones[numIndex]}`;
          } else {
            // обрабатываем все остальные числа от 100 до 999
            result = `${hundreds[hundredsIndex]} ${tens[tensIndex]} ${ones[onesIndex]}`;
          }
        }

        return result;
      }

      console.log(numberToString(123));
      console.log(numberToString(78));
      console.log(numberToString(999));
    </script>
  </head>
  <body>
    <h1>Упражнение №171</h1>
    <p>Практика на функции</p>

    <p>См. в консоль =></p>
  </body>
</html>
