<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Замыкания в JavaScript</title>

    <style>
      /* Стиль упражнений */
      body {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url(../background.png);
        background-position: 0 0;
        background-repeat: no-repeat;
        background-size: cover;
        font-family: sans-serif;
        background-attachment: fixed;
      }

      h1 {
        text-transform: uppercase;
        margin-top: 50px;
        font-size: 50px;
        color: #4682b4;
      }

      p {
        font-size: 25px;
        display: block;
        width: 80%;
        color: white;
      }
    </style>

    <script>
      // Задание №1
      function test1() {
        let num1 = 1;

        return function () {
          console.log(num1);
          num1++;
        };
      }

      let func1 = test1();

      func1(); //выведет 1
      func1(); //выведет 2
      func1(); //выведет 3
      func1(); //выведет 4

      console.log("__________________________________________________");

      // Задание №2
      function test2() {
        let num2 = 10;

        return function () {
          console.log(num2);
          num2--;
        };
      }

      let func2 = test2();
      func2();
      func2();
      func2();
      func2();

      console.log("__________________________________________________");

      // Задание №3
      function test3() {
        let num3 = 10;

        return function () {
          if (num3 >= 0) {
            console.log(num3);
            num3--;
          } else {
            console.log("Подсчет окончен");
          }
        };
      }

      let func3 = test3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();
      func3();

      console.log("__________________________________________________");

      // Задание №4
      console.log("Задание №4. Выведется 0, 0, 0");

      function func4() {
        let num = 0;

        return function () {
          console.log(num);
          num++;
        };
      }

      func4()(); //выведет 0
      func4()(); //выведет 0
      func4()(); //выведет 0

      // Задание №5
      console.log("Задание №5. Выведется 0, 0, 0");

      function func5() {
        let num = 0;

        return function () {
          console.log(num);
          num++;
        };
      }

      let test5 = func5;

      test5()(); //выведет 0
      test5()(); //выведет 0
      test5()(); //выведет 0

      // Задание №6
      console.log("Задание №6. Выведется 0, 1, 2, 3 ");

      let counter = 0;

      function test6() {
        return function () {
          console.log(counter);
          counter++;
        };
      }

      let func6 = test6;

      let func61 = func6(); // первый счетчик
      let func62 = func6(); // второй счетчик
      func61(); //выведет 0
      func62(); //выведет 1
      func61(); //выведет 2
      func62(); //выведет 3

      // Задание №7
      console.log("Задание №7. Выведется 0, 1, 2, 3");

      function test7() {
        let counter = 0;

        return function () {
          return function () {
            console.log(counter);
            counter++;
          };
        };
      }

      let func7 = test7()();

      let func71 = func7;
      let func72 = func7;
      func71();
      func72();
      func71();
      func72();

      // Задание №8
      console.log("Задание №8. Выведется 0, 1, 2, 3");

      function test8() {
        let counter = 0;

        return function () {
          return function () {
            console.log(counter);
            counter++;
          };
        };
      }

      let func8 = test8();

      let func81 = func8();
      let func82 = func8();
      func81();
      func82();
      func81();
      func82();
    </script>
  </head>
  <body>
    <h1>Упражнение №191</h1>
    <p>Замыкания</p>
  </body>
</html>
